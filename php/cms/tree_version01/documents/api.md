根据 `tree.class.php` 类的代码实现，其对外提供的**公共可用方法**（不包含私有方法 `have()`）及作用如下，按功能分类整理：


### 一、初始化与数据准备方法
| 方法名                | 作用                                                                 |
|-----------------------|----------------------------------------------------------------------|
| `init($arr = array())` | 初始化树结构核心数据，将传入的二维数组（层级数据）赋值给类属性 `$arr`，同时重置结果存储变量 `$ret`；返回值为 `bool`，表示传入的 `$arr` 是否为有效数组。 |


### 二、层级关系查询方法（核心数据查询）
| 方法名                  | 作用                                                                 |
|-------------------------|----------------------------------------------------------------------|
| `get_parent($myid)`     | 获取指定节点的「父级同级节点数组」（逻辑需注意：原代码实际获取的是「当前节点祖父级的所有子级」，即父级的兄弟节点）；参数 `$myid` 为目标节点ID，返回值为同级节点数组（无结果时返回空数组或 `false`）。 |
| `get_child($myid)`      | 获取指定节点的「直接子节点数组」（仅下一级，不包含孙子节点等深层级）；参数 `$myid` 为目标节点ID（`0` 表示顶级节点），返回值为子节点数组（无结果时返回 `false`）。 |
| `get_pos($myid, &$newarr)` | 递归获取「当前节点到顶级节点的完整路径」；参数 `$myid` 为目标节点ID，`&$newarr` 为引用传递的数组（存储路径节点），返回值为按「顶级→当前节点」排序的路径数组（键为节点ID，值为节点完整信息）。 |


### 三、树形结构生成方法（UI展示核心）
| 方法名                                                                 | 作用                                                                 |
|------------------------------------------------------------------------|----------------------------------------------------------------------|
| `get_tree($myid, $str, $sid = 0, $adds = '', $str_group = '')`          | 生成带缩进符号（如 `├`、`└`）的基础树形结构字符串，支持单选选中状态；参数 `$str` 为节点HTML模板（可用 `$id`/`$name`/`$spacer` 等占位符），`$sid` 为选中节点ID（支持单个ID），返回值为拼接好的树形HTML字符串。 |
| `get_tree_multi($myid, $str, $str2, $sid = 0, $adds = '')`             | 生成支持**多选**的树形结构，区分「可用节点」和「禁用节点」；参数 `$str` 为可用节点模板，`$str2` 为禁用节点模板，`$sid` 支持数组（多选ID），返回值为带多选状态的树形HTML字符串。 |
| `get_tree_category($myid, $str, $str2, $sid = 0, $adds = '')`          | 适配「分类场景」的多选树形结构生成，逻辑与 `get_tree_multi` 类似，但优化了分类选中逻辑（如自动关联父级选中状态）；参数与返回值同 `get_tree_multi`。 |
| `get_treeview($myid, $effected_id = 'example', $str = "...", $str2 = "...", $showlevel = 0, $style = 'filetree', $currentlevel = 1, $recursion = false, $selectedIds = array())` | 生成适配 **jQuery TreeView 插件** 的可伸缩树形结构（支持折叠/展开）；支持指定显示层级（`$showlevel`）、自定义CSS样式（`$style`）和选中节点数组（`$selectedIds`），返回值为符合插件格式的HTML字符串（需配合TreeView插件使用）。 |


### 四、异步数据生成方法（适配动态加载）
| 方法名                          | 作用                                                                 |
|---------------------------------|----------------------------------------------------------------------|
| `creat_sub_json($myid, $str = '')` | 生成指定节点的子节点JSON数据，用于异步加载树形结构（如动态展开子节点）；参数 `$myid` 为父节点ID，`$str` 为自定义节点文本模板，返回值为UTF-8编码的JSON字符串（包含子节点ID、名称、层级状态等信息）。 |


### 说明
1. **私有方法排除**：类中的 `have($list, $item)` 为私有方法（`private` 修饰），仅用于类内部判断「节点是否选中」，不对外暴露，因此不列入对外可用方法。
2. **方法依赖**：所有树形生成和关系查询方法均依赖 `init()` 方法初始化的 `$arr` 数据（需包含 `id`、`parentid` 核心字段，其他字段如 `name` 按需补充）。
3. **使用场景**：  
   - 简单单选/多选树形（如分类下拉框）：用 `get_tree`/`get_tree_multi`；  
   - 可伸缩交互树形（如后台菜单）：用 `get_treeview`（需配合jQuery插件）；  
   - 异步动态加载树形（如大数据量层级）：用 `creat_sub_json` 生成异步数据。